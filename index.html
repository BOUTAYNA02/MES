<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ordonnancement Industriel - Simulation et Optimisation</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        :root {
            --primary-gradient: linear-gradient(135deg, #3B82F6 0%, #1D4ED8 100%);
            --primary-color: #2563EB;
            --primary-dark: #1E40AF;
            --primary-light: #60A5FA;
            --secondary-color: #10B981;
            --secondary-gradient: linear-gradient(135deg, #10B981 0%, #059669 100%);
            --accent-color: #F59E0B;
            --accent-gradient: linear-gradient(135deg, #F59E0B 0%, #D97706 100%);
            --danger-color: #EF4444;
            --danger-gradient: linear-gradient(135deg, #EF4444 0%, #DC2626 100%);
            --light-color: #F8FAFC;
            --dark-color: #1E293B;
            --gray-50: #F9FAFB;
            --gray-100: #F3F4F6;
            --gray-200: #E5E7EB;
            --gray-300: #D1D5DB;
            --gray-400: #9CA3AF;
            --gray-500: #6B7280;
            --gray-600: #4B5563;
            --gray-700: #374151;
            --gray-800: #1F2937;
            --card-bg: rgba(255, 255, 255, 0.98);
            --shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.05), 0 8px 10px -6px rgba(0, 0, 0, 0.01);
            --shadow-hover: 0 20px 40px -10px rgba(37, 99, 235, 0.15);
            --shadow-lg: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
            --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            --border-radius: 16px;
            --border-radius-sm: 12px;
            --glass-effect: backdrop-filter: blur(16px) saturate(180%);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
            line-height: 1.6;
            color: var(--gray-700);
            background: linear-gradient(135deg, #F0F9FF 0%, #EFF6FF 100%);
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* Background Pattern */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: 
                radial-gradient(circle at 20% 20%, rgba(59, 130, 246, 0.08) 0%, transparent 50%),
                radial-gradient(circle at 80% 80%, rgba(16, 185, 129, 0.05) 0%, transparent 50%),
                radial-gradient(circle at 40% 60%, rgba(245, 158, 11, 0.03) 0%, transparent 50%);
            z-index: -1;
        }

        h1, h2, h3, h4 {
            font-weight: 700;
            color: var(--gray-900);
            letter-spacing: -0.025em;
        }

        .container {
            width: 100%;
            max-width: 1600px;
            margin: 0 auto;
            padding: 0 24px;
        }

        /* Header */
        header {
            background: rgba(255, 255, 255, 0.85);
            backdrop-filter: blur(20px) saturate(180%);
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
            position: sticky;
            top: 0;
            z-index: 1000;
            border-bottom: 1px solid rgba(255, 255, 255, 0.9);
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 18px 0;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 16px;
        }

        .logo-icon {
            width: 48px;
            height: 48px;
            background: var(--primary-gradient);
            border-radius: 14px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.5rem;
            box-shadow: 0 8px 20px rgba(37, 99, 235, 0.2);
        }

        .logo-text {
            display: flex;
            flex-direction: column;
            gap: 4px;
        }

        .logo h1 {
            font-size: 1.8rem;
            background: var(--primary-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-weight: 800;
        }

        .logo span {
            font-size: 0.9rem;
            color: var(--gray-500);
            font-weight: 500;
        }

        .nav-links {
            display: flex;
            list-style: none;
            gap: 4px;
            background: rgba(255, 255, 255, 0.8);
            padding: 8px;
            border-radius: 14px;
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.6);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
        }

        .nav-links li {
            margin: 0;
        }

        .nav-links a {
            text-decoration: none;
            color: var(--gray-600);
            font-weight: 600;
            padding: 12px 20px;
            border-radius: 12px;
            transition: var(--transition);
            font-size: 0.95rem;
            display: flex;
            align-items: center;
            gap: 10px;
            position: relative;
        }

        .nav-links a:hover {
            color: var(--primary-color);
            background: rgba(59, 130, 246, 0.08);
            transform: translateY(-1px);
        }

        .nav-links a.active {
            background: var(--primary-gradient);
            color: white;
            box-shadow: 0 6px 20px rgba(37, 99, 235, 0.25);
        }

        .nav-links a.active::after {
            content: '';
            position: absolute;
            bottom: -8px;
            left: 50%;
            transform: translateX(-50%);
            width: 4px;
            height: 4px;
            background: var(--primary-color);
            border-radius: 50%;
        }

        .nav-links a i {
            font-size: 0.9rem;
        }

        .mobile-menu-btn {
            display: none;
            font-size: 1.5rem;
            background: var(--primary-gradient);
            color: white;
            border: none;
            width: 48px;
            height: 48px;
            border-radius: 14px;
            cursor: pointer;
            transition: var(--transition);
            box-shadow: 0 8px 20px rgba(37, 99, 235, 0.25);
        }

        .mobile-menu-btn:hover {
            transform: translateY(-2px) scale(1.05);
            box-shadow: 0 12px 24px rgba(37, 99, 235, 0.3);
        }

        /* Main Content Layout */
        .main-content {
            display: flex;
            min-height: calc(100vh - 84px);
            gap: 32px;
            padding: 32px 0;
        }

        /* Sidebar */
        .sidebar {
            width: 380px;
            background: var(--card-bg);
            padding: 32px;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
            border: 1px solid rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(20px);
            height: fit-content;
            position: sticky;
            top: 104px;
        }

        .sidebar h2 {
            font-size: 1.5rem;
            margin-bottom: 28px;
            padding-bottom: 20px;
            border-bottom: 2px solid var(--gray-100);
            position: relative;
        }

        .sidebar h2::after {
            content: '';
            position: absolute;
            bottom: -2px;
            left: 0;
            width: 70px;
            height: 3px;
            background: var(--primary-gradient);
            border-radius: 3px;
        }

        .section {
            margin-bottom: 36px;
            padding-bottom: 24px;
            border-bottom: 1px solid var(--gray-100);
        }

        .section:last-child {
            border-bottom: none;
            margin-bottom: 0;
            padding-bottom: 0;
        }

        .section-title {
            font-size: 1.1rem;
            margin-bottom: 20px;
            color: var(--gray-800);
            display: flex;
            align-items: center;
            gap: 12px;
            font-weight: 700;
        }

        .section-title i {
            color: white;
            background: var(--primary-gradient);
            width: 36px;
            height: 36px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 12px rgba(37, 99, 235, 0.2);
        }

        /* Form Controls */
        .form-group {
            margin-bottom: 28px;
        }

        .form-group label {
            display: block;
            margin-bottom: 10px;
            font-weight: 600;
            color: var(--gray-700);
            font-size: 0.95rem;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .form-group label i {
            color: var(--primary-color);
            font-size: 0.9rem;
        }

        .select-wrapper, .input-wrapper {
            position: relative;
        }

        select, input {
            width: 100%;
            padding: 16px 20px;
            border: 2px solid var(--gray-200);
            border-radius: var(--border-radius-sm);
            font-size: 1rem;
            background: white;
            transition: var(--transition);
            font-family: inherit;
            font-weight: 500;
            color: var(--gray-700);
        }

        select:focus, input:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 4px rgba(37, 99, 235, 0.1);
            transform: translateY(-1px);
        }

        .select-wrapper::after {
            content: '▼';
            position: absolute;
            right: 20px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--gray-400);
            pointer-events: none;
            font-size: 0.8rem;
        }

        /* Job Table */
        .jobs-table-container {
            background: white;
            border-radius: var(--border-radius-sm);
            box-shadow: var(--shadow);
            overflow: hidden;
            margin-top: 24px;
            border: 1px solid var(--gray-200);
        }

        .jobs-table {
            width: 100%;
            border-collapse: separate;
            border-spacing: 0;
        }

        .jobs-table th {
            background: linear-gradient(135deg, var(--gray-50) 0%, var(--gray-100) 100%);
            padding: 20px 16px;
            text-align: left;
            font-weight: 700;
            color: var(--gray-700);
            border-bottom: 2px solid var(--gray-200);
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        .jobs-table td {
            padding: 20px 16px;
            border-bottom: 1px solid var(--gray-100);
            transition: var(--transition);
            font-weight: 500;
        }

        .jobs-table tr:hover td {
            background: var(--gray-50);
            transform: translateX(2px);
        }

        .jobs-table tr:last-child td {
            border-bottom: none;
        }

        .time-input {
            width: 80px;
            padding: 12px;
            border: 2px solid var(--gray-200);
            border-radius: 10px;
            text-align: center;
            font-weight: 700;
            color: var(--primary-color);
            transition: var(--transition);
            background: var(--gray-50);
        }

        .time-input:focus {
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
            background: white;
        }

        .btn-icon {
            background: none;
            border: none;
            color: var(--gray-500);
            cursor: pointer;
            padding: 10px;
            border-radius: 10px;
            transition: var(--transition);
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: var(--gray-100);
        }

        .btn-icon:hover {
            color: white;
            background: var(--primary-gradient);
            transform: scale(1.1) rotate(5deg);
            box-shadow: 0 6px 20px rgba(37, 99, 235, 0.2);
        }

        /* Action Buttons */
        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
            padding: 18px 28px;
            background: var(--primary-gradient);
            color: white;
            border: none;
            border-radius: var(--border-radius-sm);
            font-size: 1rem;
            font-weight: 700;
            cursor: pointer;
            transition: var(--transition);
            width: 100%;
            letter-spacing: 0.025em;
            box-shadow: 0 8px 20px rgba(37, 99, 235, 0.2);
        }

        .btn:hover {
            transform: translateY(-3px);
            box-shadow: var(--shadow-hover);
        }

        .btn:active {
            transform: translateY(-1px);
        }

        .btn-secondary {
            background: linear-gradient(135deg, var(--gray-600) 0%, var(--gray-700) 100%);
            color: white;
        }

        .btn-secondary:hover {
            background: linear-gradient(135deg, var(--gray-700) 0%, var(--gray-800) 100%);
        }

        .btn-danger {
            background: var(--danger-gradient);
        }

        .btn-danger:hover {
            background: linear-gradient(135deg, #DC2626 0%, #B91C1C 100%);
        }

        .btn-group {
            display: flex;
            gap: 16px;
        }

        /* Stats */
        .stats-container {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            margin-top: 28px;
        }

        .stat {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            background: white;
            padding: 24px;
            border-radius: var(--border-radius-sm);
            box-shadow: var(--shadow);
            border: 1px solid var(--gray-200);
            transition: var(--transition);
            position: relative;
            overflow: hidden;
        }

        .stat::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 4px;
            background: var(--primary-gradient);
        }

        .stat:nth-child(2)::before {
            background: var(--secondary-gradient);
        }

        .stat:nth-child(3)::before {
            background: var(--accent-gradient);
        }

        .stat:hover {
            transform: translateY(-4px);
            box-shadow: var(--shadow-hover);
        }

        .stat-value {
            font-size: 2.5rem;
            font-weight: 800;
            color: var(--primary-color);
            line-height: 1;
            margin-bottom: 8px;
        }

        .stat:nth-child(2) .stat-value {
            color: var(--secondary-color);
        }

        .stat:nth-child(3) .stat-value {
            color: var(--accent-color);
        }

        .stat-label {
            font-size: 0.85rem;
            color: var(--gray-600);
            font-weight: 600;
            text-align: center;
        }

        /* Main Panel */
        .main-panel {
            flex: 1;
            padding: 8px 0;
            min-width: 0;
        }

        .panel-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 32px;
            background: var(--card-bg);
            padding: 32px;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.8);
            position: relative;
            overflow: hidden;
        }

        .panel-header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: var(--primary-gradient);
        }

        .panel-title {
            font-size: 2rem;
            color: var(--gray-900);
            background: var(--primary-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-weight: 800;
        }

        /* Gantt Chart */
        .gantt-container {
            background: var(--card-bg);
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
            padding: 32px;
            margin-bottom: 32px;
            border: 1px solid rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(20px);
            position: relative;
            overflow: hidden;
        }

        .gantt-container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--primary-color), var(--secondary-color));
        }

        .gantt-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 28px;
        }

        .gantt-title {
            font-size: 1.4rem;
            color: var(--gray-800);
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .gantt-title i {
            color: var(--primary-color);
            background: var(--gray-100);
            width: 40px;
            height: 40px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .gantt-chart {
            min-height: 360px;
            position: relative;
            margin-top: 20px;
            background: linear-gradient(135deg, var(--gray-50) 0%, var(--gray-100) 100%);
            border-radius: var(--border-radius-sm);
            padding: 24px;
            border: 1px solid var(--gray-200);
        }

        .gantt-machine {
            display: flex;
            align-items: center;
            margin-bottom: 24px;
            height: 56px;
        }

        .gantt-machine-label {
            width: 160px;
            font-weight: 700;
            color: var(--gray-700);
            padding: 14px;
            background: white;
            border-radius: var(--border-radius-sm);
            box-shadow: var(--shadow);
            display: flex;
            align-items: center;
            gap: 12px;
            border: 1px solid var(--gray-200);
        }

        .gantt-machine-label i {
            color: white;
            background: var(--primary-gradient);
            width: 32px;
            height: 32px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .gantt-timeline {
            flex: 1;
            height: 100%;
            position: relative;
            background: linear-gradient(to right, var(--gray-50), var(--gray-100));
            border-radius: var(--border-radius-sm);
            overflow: hidden;
            border: 1px solid var(--gray-200);
            box-shadow: inset 0 2px 8px rgba(0,0,0,0.02);
        }

        .gantt-job {
            position: absolute;
            height: 40px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 700;
            font-size: 0.9rem;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            transition: var(--transition);
            overflow: hidden;
            cursor: pointer;
            border: 2px solid rgba(255, 255, 255, 0.3);
        }

        .gantt-job::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: rgba(255, 255, 255, 0.4);
        }

        .gantt-job:hover {
            transform: scale(1.05) translateY(-2px);
            z-index: 10;
            box-shadow: 0 12px 24px rgba(0,0,0,0.2);
        }

        .time-axis {
            display: flex;
            margin-left: 160px;
            margin-top: 16px;
            padding-bottom: 16px;
            border-bottom: 2px solid var(--gray-200);
        }

        .time-tick {
            flex: 1;
            text-align: center;
            font-size: 0.85rem;
            color: var(--gray-600);
            font-weight: 600;
            position: relative;
        }

        .time-tick::before {
            content: '';
            position: absolute;
            top: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 1px;
            height: 8px;
            background: var(--gray-300);
        }

        /* Results Panel */
        .results-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
            gap: 28px;
            margin-bottom: 32px;
        }

        .result-card {
            background: var(--card-bg);
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
            padding: 32px;
            transition: var(--transition);
            border: 1px solid rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(20px);
            position: relative;
            overflow: hidden;
        }

        .result-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 8px;
            height: 100%;
            background: var(--primary-gradient);
        }

        .result-card:hover {
            transform: translateY(-6px);
            box-shadow: var(--shadow-hover);
        }

        .result-title {
            font-size: 0.9rem;
            color: var(--gray-500);
            margin-bottom: 16px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .result-title i {
            font-size: 1.1rem;
        }

        .result-value {
            font-size: 3rem;
            font-weight: 800;
            color: var(--primary-color);
            line-height: 1;
            margin-bottom: 12px;
        }

        .result-card:nth-child(2) .result-value {
            color: var(--secondary-color);
        }

        .result-card:nth-child(3) .result-value {
            color: var(--accent-color);
        }

        .result-card:nth-child(4) .result-value {
            color: var(--danger-color);
        }

        /* Documentation */
        .docs-container {
            background: var(--card-bg);
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
            padding: 32px;
            margin-top: 32px;
            border: 1px solid rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(20px);
        }

        .docs-tabs {
            display: flex;
            border-bottom: 2px solid var(--gray-100);
            margin-bottom: 28px;
            gap: 8px;
            background: var(--gray-50);
            padding: 8px;
            border-radius: var(--border-radius-sm);
            border: 1px solid var(--gray-200);
        }

        .docs-tab {
            padding: 16px 28px;
            background: none;
            border: none;
            font-size: 1rem;
            font-weight: 700;
            color: var(--gray-600);
            cursor: pointer;
            transition: var(--transition);
            position: relative;
            border-radius: 10px;
            flex: 1;
            text-align: center;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .docs-tab:hover {
            color: var(--primary-color);
            background: rgba(59, 130, 246, 0.1);
        }

        .docs-tab.active {
            background: var(--primary-gradient);
            color: white;
            box-shadow: 0 6px 20px rgba(37, 99, 235, 0.25);
        }

        .docs-content {
            display: none;
            animation: fadeIn 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .docs-content.active {
            display: block;
        }

        .docs-section {
            margin-bottom: 32px;
            padding: 28px;
            background: white;
            border-radius: var(--border-radius-sm);
            border: 1px solid var(--gray-200);
            box-shadow: 0 4px 12px rgba(0,0,0,0.02);
            transition: var(--transition);
        }

        .docs-section:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.05);
        }

        .docs-section h3 {
            font-size: 1.3rem;
            margin-bottom: 16px;
            color: var(--gray-800);
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .docs-section h3 i {
            color: white;
            background: var(--primary-gradient);
            width: 36px;
            height: 36px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .docs-section p {
            margin-bottom: 16px;
            color: var(--gray-600);
            line-height: 1.8;
        }

        .algorithm-list {
            list-style-type: none;
        }

        .algorithm-list li {
            padding: 20px;
            border-bottom: 1px solid var(--gray-100);
            transition: var(--transition);
            border-radius: 10px;
            margin-bottom: 8px;
        }

        .algorithm-list li:hover {
            background: var(--gray-50);
            transform: translateX(8px);
            border-radius: 10px;
        }

        .algorithm-list li:last-child {
            border-bottom: none;
            margin-bottom: 0;
        }

        .algorithm-name {
            font-weight: 800;
            color: var(--primary-color);
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: 1.1rem;
        }

        .algorithm-desc {
            font-size: 0.95rem;
            color: var(--gray-600);
            line-height: 1.7;
            padding-left: 32px;
        }

        /* Footer */
        footer {
            background: linear-gradient(135deg, var(--gray-900) 0%, var(--gray-800) 100%);
            color: white;
            padding: 60px 0 30px;
            margin-top: 60px;
            position: relative;
            overflow: hidden;
        }

        footer::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: var(--primary-gradient);
        }

        .footer-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 32px;
            position: relative;
            z-index: 1;
        }

        .footer-info {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .footer-info h3 {
            font-size: 1.5rem;
            color: white;
            background: var(--primary-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-weight: 800;
        }

        .footer-info p {
            color: var(--gray-400);
            font-size: 1rem;
            max-width: 400px;
        }

        .footer-tags {
            display: flex;
            gap: 16px;
            flex-wrap: wrap;
        }

        .tag {
            background: rgba(255, 255, 255, 0.1);
            color: var(--gray-300);
            padding: 12px 20px;
            border-radius: 12px;
            font-size: 0.9rem;
            font-weight: 600;
            transition: var(--transition);
            border: 1px solid rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .tag:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateY(-2px);
            color: white;
        }

        .tag:nth-child(5) {
            background: var(--primary-gradient);
            color: white;
        }

        /* Animations */
        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-15px); }
        }

        .floating {
            animation: float 6s ease-in-out infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .pulse {
            animation: pulse 2s ease-in-out infinite;
        }

        /* Responsive Styles */
        @media (max-width: 1200px) {
            .main-content {
                flex-direction: column;
            }
            
            .sidebar {
                width: 100%;
                position: static;
            }
            
            .container {
                max-width: 100%;
                padding: 0 20px;
            }
        }

        @media (max-width: 768px) {
            .nav-links {
                position: fixed;
                top: 84px;
                left: 0;
                background: var(--card-bg);
                backdrop-filter: blur(30px);
                width: 100%;
                flex-direction: column;
                align-items: center;
                padding: 24px;
                box-shadow: var(--shadow-lg);
                transform: translateY(-150%);
                transition: var(--transition);
                z-index: 999;
                border-radius: 0 0 var(--border-radius) var(--border-radius);
                border: 1px solid rgba(255, 255, 255, 0.3);
                max-height: calc(100vh - 84px);
                overflow-y: auto;
            }
            
            .nav-links.active {
                transform: translateY(0);
            }
            
            .nav-links li {
                width: 100%;
            }
            
            .nav-links a {
                width: 100%;
                justify-content: center;
                border-radius: var(--border-radius-sm);
                padding: 20px;
            }
            
            .mobile-menu-btn {
                display: flex;
                align-items: center;
                justify-content: center;
            }
            
            .panel-header {
                flex-direction: column;
                align-items: flex-start;
                gap: 20px;
                padding: 24px;
            }
            
            .stats-container {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .results-container {
                grid-template-columns: 1fr;
            }
            
            .footer-content {
                flex-direction: column;
                align-items: flex-start;
            }
            
            .gantt-machine-label {
                width: 120px;
                font-size: 0.9rem;
            }
            
            .time-axis {
                margin-left: 120px;
            }
        }

        @media (max-width: 480px) {
            .stats-container {
                grid-template-columns: 1fr;
            }
            
            .gantt-machine-label {
                width: 100px;
                padding: 10px;
            }
            
            .time-axis {
                margin-left: 100px;
            }
            
            .docs-tabs {
                flex-direction: column;
            }
            
            .btn-group {
                flex-direction: column;
            }
            
            .footer-tags {
                justify-content: center;
            }
            
            .logo {
                flex-direction: column;
                align-items: flex-start;
                gap: 12px;
            }
        }
    </style>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Header -->
    <header>
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <div class="logo-icon">
                        <i class="fas fa-industry"></i>
                    </div>
                    <div class="logo-text">
                        <h1>Ordonnancement Industriel</h1>
                        <span>Simulation et Optimisation de Production</span>
                    </div>
                </div>
                
                <button class="mobile-menu-btn" id="mobileMenuBtn">
                    <i class="fas fa-bars"></i>
                </button>
                
                <ul class="nav-links" id="navLinks">
                    <li><a href="#simulation" class="active"><i class="fas fa-play-circle"></i> Simulation</a></li>
                    <li><a href="#results"><i class="fas fa-chart-bar"></i> Résultats</a></li>
                    <li><a href="#documentation"><i class="fas fa-book"></i> Documentation</a></li>
                    <li><a href="#about"><i class="fas fa-info-circle"></i> À propos</a></li>
                </ul>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <div class="container">
        <div class="main-content">
            <!-- Sidebar Configuration -->
            <div class="sidebar">
                <h2>Configuration du Système</h2>
                
                <div class="section">
                    <div class="section-title">
                        <i class="fas fa-cogs"></i>
                        <span>Type de Système</span>
                    </div>
                    <div class="form-group">
                        <label for="systemType"><i class="fas fa-industry"></i> Système de production</label>
                        <div class="select-wrapper">
                            <select id="systemType">
                                <option value="flow-shop">Flow Shop</option>
                                <option value="job-shop">Job Shop</option>
                                <option value="open-shop">Open Shop</option>
                                <option value="parallel-machines">Machines Parallèles</option>
                            </select>
                        </div>
                        <div class="system-description" id="systemDescription" style="font-size: 0.9rem; color: var(--gray-600); margin-top: 12px; padding: 16px; background: linear-gradient(135deg, rgba(59, 130, 246, 0.05) 0%, rgba(16, 185, 129, 0.05) 100%); border-radius: var(--border-radius-sm); border-left: 4px solid var(--primary-color);">
                            <i class="fas fa-info-circle" style="color: var(--primary-color); margin-right: 10px;"></i>
                            <strong>Flow Shop</strong> : Tous les jobs suivent le même ordre de passage sur les machines.
                        </div>
                    </div>
                </div>
                
                <div class="section">
                    <div class="section-title">
                        <i class="fas fa-sort-amount-up"></i>
                        <span>Règle d'Ordonnancement</span>
                    </div>
                    <div class="form-group">
                        <label for="schedulingRule"><i class="fas fa-algorithm"></i> Algorithme d'ordonnancement</label>
                        <div class="select-wrapper">
                            <select id="schedulingRule">
                                <option value="fifo">FIFO (Premier arrivé, premier servi)</option>
                                <option value="spt">SPT (Plus court temps de traitement)</option>
                                <option value="lpt">LPT (Plus long temps de traitement)</option>
                                <option value="johnson">Johnson (Flow Shop 2 machines)</option>
                                <option value="edd">EDD (Date d'échéance la plus proche)</option>
                            </select>
                        </div>
                    </div>
                </div>
                
                <div class="section">
                    <div class="section-title">
                        <i class="fas fa-sliders-h"></i>
                        <span>Paramètres de Simulation</span>
                    </div>
                    <div class="form-group">
                        <label for="machineCount"><i class="fas fa-microchip"></i> Nombre de Machines</label>
                        <div class="input-wrapper">
                            <input type="number" id="machineCount" min="1" max="10" value="3">
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="jobCount"><i class="fas fa-tasks"></i> Nombre de Jobs</label>
                        <div class="input-wrapper">
                            <input type="number" id="jobCount" min="1" max="15" value="5">
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="dataGeneration"><i class="fas fa-database"></i> Données de Production</label>
                        <div class="btn-group">
                            <button id="randomData" class="btn-secondary">
                                <i class="fas fa-random"></i> Aléatoire
                            </button>
                            <button id="resetData" class="btn-secondary">
                                <i class="fas fa-redo"></i> Réinitialiser
                            </button>
                        </div>
                    </div>
                </div>
                
                <div class="jobs-table-container">
                    <table class="jobs-table">
                        <thead>
                            <tr>
                                <th>Job</th>
                                <th>M1</th>
                                <th>M2</th>
                                <th>M3</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="jobsTableBody">
                            <!-- Jobs will be generated here -->
                        </tbody>
                    </table>
                    <div style="padding: 20px; border-top: 1px solid var(--gray-200); display: flex; justify-content: center;">
                        <button id="addJobBtn" class="btn-secondary pulse" style="width: auto; padding: 16px 28px;">
                            <i class="fas fa-plus"></i> Ajouter un Job
                        </button>
                    </div>
                </div>
                
                <div class="stats-container">
                    <div class="stat">
                        <div class="stat-value" id="jobsCount">5</div>
                        <div class="stat-label">job(s)</div>
                    </div>
                    <div class="stat">
                        <div class="stat-value" id="machinesCount">3</div>
                        <div class="stat-label">machine(s)</div>
                    </div>
                    <div class="stat">
                        <div class="stat-value" id="totalTime">0</div>
                        <div class="stat-label">unités de temps</div>
                    </div>
                </div>
                
                <div class="section" style="margin-top: 32px;">
                    <button id="runScheduling" class="btn floating">
                        <i class="fas fa-play"></i> Exécuter l'ordonnancement
                    </button>
                    <button id="resetSimulation" class="btn-secondary" style="margin-top: 16px;">
                        <i class="fas fa-redo"></i> Réinitialiser la simulation
                    </button>
                </div>
            </div>
            
            <!-- Main Panel -->
            <div class="main-panel">
                <div class="panel-header">
                    <h2 class="panel-title">Résultats de l'Ordonnancement</h2>
                    <div>
                        <div id="currentConfig" style="color: var(--gray-600); font-size: 0.95rem; background: rgba(59, 130, 246, 0.1); padding: 12px 24px; border-radius: 12px; border: 2px solid rgba(59, 130, 246, 0.2); display: flex; align-items: center; gap: 12px;">
                            <i class="fas fa-cog" style="color: var(--primary-color); font-size: 1.1rem;"></i>
                            <span><strong>Flow Shop</strong> • <strong>FIFO</strong> • 5 jobs • 3 machines</span>
                        </div>
                    </div>
                </div>
                
                <!-- Gantt Chart -->
                <div class="gantt-container">
                    <div class="gantt-header">
                        <h3 class="gantt-title"><i class="fas fa-chart-gantt"></i> Diagramme de Gantt</h3>
                        <div style="display: flex; gap: 16px;">
                            <button id="zoomIn" class="btn-icon" title="Zoom avant">
                                <i class="fas fa-search-plus"></i>
                            </button>
                            <button id="zoomOut" class="btn-icon" title="Zoom arrière">
                                <i class="fas fa-search-minus"></i>
                            </button>
                            <button id="downloadGantt" class="btn-icon" title="Télécharger">
                                <i class="fas fa-download"></i>
                            </button>
                            <button id="fullscreen" class="btn-icon" title="Plein écran">
                                <i class="fas fa-expand"></i>
                            </button>
                        </div>
                    </div>
                    
                    <div id="timeAxis" class="time-axis">
                        <!-- Time axis will be generated here -->
                    </div>
                    
                    <div id="ganttChart" class="gantt-chart">
                        <!-- Gantt chart will be generated here -->
                    </div>
                </div>
                
                <!-- Results Metrics -->
                <div class="results-container">
                    <div class="result-card">
                        <div class="result-title"><i class="fas fa-clock"></i> Makespan (Cmax)</div>
                        <div class="result-value" id="makespanValue">0</div>
                        <div style="font-size: 0.9rem; color: var(--gray-500); margin-top: 16px; line-height: 1.6;">
                            Temps total nécessaire pour compléter tous les jobs. C'est le temps de fin du dernier job sur la dernière machine.
                        </div>
                    </div>
                    
                    <div class="result-card">
                        <div class="result-title"><i class="fas fa-hourglass-half"></i> Temps de séjour moyen</div>
                        <div class="result-value" id="flowTimeValue">0</div>
                        <div style="font-size: 0.9rem; color: var(--gray-500); margin-top: 16px; line-height: 1.6;">
                            Temps moyen passé par un job dans le système, de son arrivée à sa complétion. Inclut le temps d'attente et de traitement.
                        </div>
                    </div>
                    
                    <div class="result-card">
                        <div class="result-title"><i class="fas fa-pause-circle"></i> Temps d'attente moyen</div>
                        <div class="result-value" id="waitTimeValue">0</div>
                        <div style="font-size: 0.9rem; color: var(--gray-500); margin-top: 16px; line-height: 1.6;">
                            Différence entre le temps de séjour et le temps de traitement. Représente le temps d'inactivité des jobs.
                        </div>
                    </div>
                    
                    <div class="result-card">
                        <div class="result-title"><i class="fas fa-chart-line"></i> Taux d'utilisation</div>
                        <div class="result-value" id="utilizationValue">0%</div>
                        <div style="font-size: 0.9rem; color: var(--gray-500); margin-top: 16px; line-height: 1.6;">
                            Pourcentage du temps où une machine est occupée par rapport au makespan total. Un taux élevé indique une bonne efficacité.
                        </div>
                    </div>
                </div>
                
                <!-- Documentation -->
                <div class="docs-container" id="documentation">
                    <div class="docs-tabs">
                        <button class="docs-tab active" data-tab="guide"><i class="fas fa-book-open"></i> Guide</button>
                        <button class="docs-tab" data-tab="algorithms"><i class="fas fa-code"></i> Algorithmes</button>
                        <button class="docs-tab" data-tab="indicators"><i class="fas fa-chart-pie"></i> Indicateurs</button>
                    </div>
                    
                    <div class="docs-content active" id="guide-content">
                        <div class="docs-section">
                            <h3><i class="fas fa-info-circle"></i> Introduction</h3>
                            <p>Cette application permet de simuler et optimiser l'ordonnancement de production industrielle selon différents systèmes et règles de priorité. Utilisez cette plateforme pour analyser les performances de différents algorithmes d'ordonnancement en temps réel.</p>
                        </div>
                        
                        <div class="docs-section">
                            <h3><i class="fas fa-list-ol"></i> Étapes d'utilisation</h3>
                            <p>1. <strong>Sélectionnez le type de système de production</strong> (Flow Shop, Job Shop, etc.)</p>
                            <p>2. <strong>Choisissez l'algorithme d'ordonnancement</strong> souhaité</p>
                            <p>3. <strong>Définissez le nombre de machines et de jobs</strong></p>
                            <p>4. <strong>Renseignez les temps de traitement</strong> dans le tableau interactif</p>
                            <p>5. <strong>Cliquez sur "Exécuter l'ordonnancement"</strong> pour lancer le calcul</p>
                            <p>6. <strong>Analysez les résultats</strong> via le diagramme de Gantt et les métriques</p>
                        </div>
                        
                        <div class="docs-section">
                            <h3><i class="fas fa-industry"></i> Types de systèmes</h3>
                            <p><strong>Flow Shop</strong> : Tous les jobs suivent le même ordre de passage sur les machines.</p>
                            <p><strong>Job Shop</strong> : Chaque job peut avoir un ordre de passage différent.</p>
                            <p><strong>Open Shop</strong> : Les jobs peuvent être traités dans n'importe quel ordre.</p>
                            <p><strong>Machines Parallèles</strong> : Plusieurs machines peuvent traiter le même type d'opération.</p>
                        </div>
                    </div>
                    
                    <div class="docs-content" id="algorithms-content">
                        <div class="docs-section">
                            <h3><i class="fas fa-calculator"></i> Algorithmes d'ordonnancement</h3>
                            <ul class="algorithm-list">
                                <li>
                                    <div class="algorithm-name"><i class="fas fa-arrow-right"></i> FIFO (First In First Out)</div>
                                    <div class="algorithm-desc">Traite les jobs dans leur ordre d'arrivée. Simple mais ne garantit pas l'optimalité du makespan.</div>
                                </li>
                                <li>
                                    <div class="algorithm-name"><i class="fas fa-sort-amount-down"></i> SPT (Shortest Processing Time)</div>
                                    <div class="algorithm-desc">Priorise les jobs avec le temps de traitement total le plus court. Minimise le temps de séjour moyen.</div>
                                </li>
                                <li>
                                    <div class="algorithm-name"><i class="fas fa-sort-amount-up"></i> LPT (Longest Processing Time)</div>
                                    <div class="algorithm-desc">Priorise les jobs avec le temps de traitement total le plus long. Utile pour équilibrer la charge sur machines parallèles.</div>
                                </li>
                                <li>
                                    <div class="algorithm-name"><i class="fas fa-robot"></i> Johnson (Flow Shop 2 machines)</div>
                                    <div class="algorithm-desc">Algorithme optimal pour minimiser le makespan dans un Flow Shop à exactement 2 machines. Complexité O(n log n).</div>
                                </li>
                                <li>
                                    <div class="algorithm-name"><i class="fas fa-calendar-alt"></i> EDD (Earliest Due Date)</div>
                                    <div class="algorithm-desc">Priorise les jobs avec la date d'échéance la plus proche. Minimise le retard maximum.</div>
                                </li>
                            </ul>
                        </div>
                    </div>
                    
                    <div class="docs-content" id="indicators-content">
                        <div class="docs-section">
                            <h3><i class="fas fa-chart-bar"></i> Indicateurs de performance</h3>
                            <p><strong>Makespan (Cmax)</strong> : Temps total nécessaire pour compléter tous les jobs. C'est le temps de fin du dernier job sur la dernière machine.</p>
                            <p><strong>Temps de séjour (Flow Time)</strong> : Temps total passé par un job dans le système, de son arrivée à sa complétion. Inclut le temps d'attente et de traitement.</p>
                            <p><strong>Temps d'attente</strong> : Différence entre le temps de séjour et le temps de traitement. Représente le temps d'inactivité des jobs.</p>
                            <p><strong>Taux d'utilisation</strong> : Pourcentage du temps où une machine est occupée par rapport au makespan total. Un taux élevé indique une bonne efficacité.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Footer -->
    <footer id="about">
        <div class="container">
            <div class="footer-content">
                <div class="footer-info">
                    <h3>Réalisé par ZAKARI Boutayna</h3>
                    <p>Projet Académique • Génie Électrique • 2026</p>
                    <p style="margin-top: 8px; font-size: 0.9rem; color: var(--gray-400);">Simulation d'ordonnancement industriel avec optimisation des performances de production</p>
                </div>
                <div class="footer-tags">
                    <span class="tag"><i class="fas fa-cogs"></i> Ordonnancement</span>
                    <span class="tag"><i class="fas fa-chart-line"></i> Optimisation</span>
                    <span class="tag"><i class="fas fa-desktop"></i> Simulation</span>
                    <span class="tag"><i class="fas fa-industry"></i> Production</span>
                    <span class="tag"><i class="fas fa-bolt"></i> Génie Électrique</span>
                </div>
            </div>
        </div>
    </footer>

    <!-- JavaScript code remains the same as in the original -->
    <script>
        // ... (Le code JavaScript reste exactement le même que dans votre version originale)
        // Initial data
        let jobs = [];
        let machines = 3;
        let systemType = 'flow-shop';
        let schedulingRule = 'fifo';
        let makespan = 0;
        let timeScale = 10; // pixels per time unit
        const jobColors = [
            'linear-gradient(135deg, #3B82F6 0%, #1D4ED8 100%)',
            'linear-gradient(135deg, #10B981 0%, #059669 100%)',
            'linear-gradient(135deg, #F59E0B 0%, #D97706 100%)',
            'linear-gradient(135deg, #8B5CF6 0%, #7C3AED 100%)',
            'linear-gradient(135deg, #EC4899 0%, #DB2777 100%)',
            'linear-gradient(135deg, #06B6D4 0%, #0891B2 100%)',
            'linear-gradient(135deg, #84CC16 0%, #65A30D 100%)',
            'linear-gradient(135deg, #F97316 0%, #EA580C 100%)',
            'linear-gradient(135deg, #6366F1 0%, #4F46E5 100%)',
            'linear-gradient(135deg, #14B8A6 0%, #0D9488 100%)'
        ];
        
        // Initialize the application
        function init() {
            updateMachineCount();
            generateRandomJobs();
            renderJobsTable();
            updateStats();
            updateSystemDescription();
            updateCurrentConfig();
            setupEventListeners();
            setupDocumentationTabs();
        }
        
        // Generate random job data
        function generateRandomJobs() {
            const jobCount = parseInt(document.getElementById('jobCount').value);
            machines = parseInt(document.getElementById('machineCount').value);
            
            jobs = [];
            for (let i = 0; i < jobCount; i++) {
                const job = {
                    id: i + 1,
                    name: `J${i + 1}`,
                    times: []
                };
                
                for (let m = 0; m < machines; m++) {
                    // Generate random processing time between 1 and 15
                    job.times.push(Math.floor(Math.random() * 15) + 1);
                }
                
                jobs.push(job);
            }
        }
        
        // Render jobs table
        function renderJobsTable() {
            const tableBody = document.getElementById('jobsTableBody');
            tableBody.innerHTML = '';
            
            jobs.forEach((job, index) => {
                const row = document.createElement('tr');
                
                // Job name
                const nameCell = document.createElement('td');
                nameCell.textContent = job.name;
                nameCell.style.fontWeight = '800';
                nameCell.style.color = 'var(--primary-color)';
                row.appendChild(nameCell);
                
                // Time inputs for each machine
                for (let m = 0; m < machines; m++) {
                    const timeCell = document.createElement('td');
                    const input = document.createElement('input');
                    input.type = 'number';
                    input.className = 'time-input';
                    input.min = '1';
                    input.max = '100';
                    input.value = job.times[m] || 1;
                    input.dataset.jobIndex = index;
                    input.dataset.machineIndex = m;
                    
                    input.addEventListener('change', function() {
                        const jobIndex = parseInt(this.dataset.jobIndex);
                        const machineIndex = parseInt(this.dataset.machineIndex);
                        const value = parseInt(this.value) || 1;
                        jobs[jobIndex].times[machineIndex] = value;
                        updateTotalTime();
                    });
                    
                    timeCell.appendChild(input);
                    row.appendChild(timeCell);
                }
                
                // Actions cell
                const actionsCell = document.createElement('td');
                
                const deleteBtn = document.createElement('button');
                deleteBtn.className = 'btn-icon';
                deleteBtn.innerHTML = '<i class="fas fa-trash"></i>';
                deleteBtn.title = 'Supprimer ce job';
                deleteBtn.addEventListener('click', function() {
                    deleteJob(index);
                });
                
                actionsCell.appendChild(deleteBtn);
                row.appendChild(actionsCell);
                
                tableBody.appendChild(row);
            });
            
            updateTotalTime();
        }
        
        // Update machine count
        function updateMachineCount() {
            machines = parseInt(document.getElementById('machineCount').value);
            
            // Update table header
            const tableHeader = document.querySelector('.jobs-table thead tr');
            // Clear existing machine headers (except first and last columns)
            while (tableHeader.children.length > 2) {
                tableHeader.removeChild(tableHeader.children[tableHeader.children.length - 2]);
            }
            
            // Add machine headers
            for (let i = 1; i <= machines; i++) {
                const th = document.createElement('th');
                th.textContent = `M${i}`;
                th.innerHTML = `<i class="fas fa-microchip" style="margin-right: 6px;"></i>M${i}`;
                tableHeader.insertBefore(th, tableHeader.lastElementChild);
            }
            
            // Regenerate jobs if needed
            if (jobs.length > 0) {
                jobs.forEach(job => {
                    // Adjust times array length to match new machine count
                    if (job.times.length < machines) {
                        // Add missing times with random values
                        while (job.times.length < machines) {
                            job.times.push(Math.floor(Math.random() * 15) + 1);
                        }
                    } else if (job.times.length > machines) {
                        // Remove extra times
                        job.times = job.times.slice(0, machines);
                    }
                });
                
                renderJobsTable();
            }
        }
        
        // Add a new job
        function addJob() {
            const jobCount = jobs.length;
            const job = {
                id: jobCount + 1,
                name: `J${jobCount + 1}`,
                times: []
            };
            
            for (let m = 0; m < machines; m++) {
                // Default processing time
                job.times.push(Math.floor(Math.random() * 15) + 1);
            }
            
            jobs.push(job);
            document.getElementById('jobCount').value = jobs.length;
            renderJobsTable();
            updateStats();
        }
        
        // Delete a job
        function deleteJob(index) {
            if (jobs.length <= 1) {
                alert('Il doit y avoir au moins un job.');
                return;
            }
            
            jobs.splice(index, 1);
            
            // Update job names
            jobs.forEach((job, idx) => {
                job.id = idx + 1;
                job.name = `J${idx + 1}`;
            });
            
            document.getElementById('jobCount').value = jobs.length;
            renderJobsTable();
            updateStats();
        }
        
        // Update statistics
        function updateStats() {
            document.getElementById('jobsCount').textContent = jobs.length;
            document.getElementById('machinesCount').textContent = machines;
            updateTotalTime();
        }
        
        // Calculate and update total time
        function updateTotalTime() {
            let total = 0;
            jobs.forEach(job => {
                job.times.forEach(time => {
                    total += time;
                });
            });
            document.getElementById('totalTime').textContent = total;
        }
        
        // Update system description
        function updateSystemDescription() {
            const descriptionElement = document.getElementById('systemDescription');
            const systemType = document.getElementById('systemType').value;
            
            let description = '';
            switch(systemType) {
                case 'flow-shop':
                    description = '<strong>Flow Shop</strong> : Tous les jobs suivent le même ordre de passage sur les machines.';
                    break;
                case 'job-shop':
                    description = '<strong>Job Shop</strong> : Chaque job peut avoir un ordre de passage différent.';
                    break;
                case 'open-shop':
                    description = '<strong>Open Shop</strong> : Les jobs peuvent être traités dans n\'importe quel ordre.';
                    break;
                case 'parallel-machines':
                    description = '<strong>Machines Parallèles</strong> : Machines identiques en parallèle.';
                    break;
            }
            descriptionElement.innerHTML = `<i class="fas fa-info-circle" style="color: var(--primary-color); margin-right: 10px;"></i>${description}`;
        }
        
        // Update current configuration display
        function updateCurrentConfig() {
            const systemText = document.getElementById('systemType').options[document.getElementById('systemType').selectedIndex].text;
            const ruleText = document.getElementById('schedulingRule').options[document.getElementById('schedulingRule').selectedIndex].text.split(' ')[0];
            
            document.getElementById('currentConfig').innerHTML = 
                `<i class="fas fa-cog" style="color: var(--primary-color); font-size: 1.1rem;"></i>
                <span><strong>${systemText}</strong> • <strong>${ruleText}</strong> • ${jobs.length} jobs • ${machines} machines</span>`;
        }
        
        // Run scheduling simulation
        function runScheduling() {
            systemType = document.getElementById('systemType').value;
            schedulingRule = document.getElementById('schedulingRule').value;
            
            // Apply scheduling rule to order jobs
            let orderedJobs = [...jobs];
            
            switch(schedulingRule) {
                case 'spt':
                    // Shortest Processing Time first
                    orderedJobs.sort((a, b) => {
                        const totalA = a.times.reduce((sum, time) => sum + time, 0);
                        const totalB = b.times.reduce((sum, time) => sum + time, 0);
                        return totalA - totalB;
                    });
                    break;
                case 'lpt':
                    // Longest Processing Time first
                    orderedJobs.sort((a, b) => {
                        const totalA = a.times.reduce((sum, time) => sum + time, 0);
                        const totalB = b.times.reduce((sum, time) => sum + time, 0);
                        return totalB - totalA;
                    });
                    break;
                case 'johnson':
                    // Johnson's algorithm (for 2 machines)
                    if (machines === 2) {
                        orderedJobs = applyJohnsonAlgorithm(orderedJobs);
                    }
                    break;
                // FIFO is default - no sorting needed
            }
            
            // Calculate schedule
            const schedule = calculateSchedule(orderedJobs);
            
            // Update metrics
            updateMetrics(schedule);
            
            // Render Gantt chart
            renderGanttChart(schedule);
            
            // Update configuration display
            updateCurrentConfig();
            
            // Show success animation
            const runBtn = document.getElementById('runScheduling');
            runBtn.innerHTML = '<i class="fas fa-check"></i> Simulation exécutée';
            runBtn.style.background = 'var(--secondary-gradient)';
            
            setTimeout(() => {
                runBtn.innerHTML = '<i class="fas fa-play"></i> Exécuter l\'ordonnancement';
                runBtn.style.background = 'var(--primary-gradient)';
            }, 2000);
        }
        
        // Apply Johnson's algorithm for 2-machine flow shop
        function applyJohnsonAlgorithm(jobs) {
            const list1 = []; // Jobs with time on M1 <= time on M2
            const list2 = []; // Jobs with time on M1 > time on M2
            
            jobs.forEach(job => {
                if (job.times[0] <= job.times[1]) {
                    list1.push(job);
                } else {
                    list2.push(job);
                }
            });
            
            // Sort list1 by increasing time on M1
            list1.sort((a, b) => a.times[0] - b.times[0]);
            
            // Sort list2 by decreasing time on M2
            list2.sort((a, b) => b.times[1] - a.times[1]);
            
            // Combine lists
            return [...list1, ...list2];
        }
        
        // Calculate schedule based on system type
        function calculateSchedule(orderedJobs) {
            const schedule = {
                machines: [],
                makespan: 0
            };
            
            // Initialize machines
            for (let i = 0; i < machines; i++) {
                schedule.machines[i] = {
                    id: i,
                    jobs: []
                };
            }
            
            // For Flow Shop system
            if (systemType === 'flow-shop') {
                let currentTime = 0;
                
                // Process each job in order
                orderedJobs.forEach(job => {
                    let jobStartTime = currentTime;
                    
                    // Each job goes through all machines in order
                    for (let m = 0; m < machines; m++) {
                        const processingTime = job.times[m];
                        
                        // For first machine, start at currentTime
                        // For subsequent machines, start at max(currentTime, previous machine finish time)
                        if (m > 0) {
                            // Find when the previous operation on this job finishes
                            const prevOpFinish = schedule.machines[m-1].jobs
                                .find(op => op.jobId === job.id)?.finish || 0;
                            jobStartTime = Math.max(jobStartTime, prevOpFinish);
                        }
                        
                        const jobOp = {
                            jobId: job.id,
                            jobName: job.name,
                            start: jobStartTime,
                            finish: jobStartTime + processingTime,
                            duration: processingTime,
                            color: jobColors[(job.id - 1) % jobColors.length]
                        };
                        
                        schedule.machines[m].jobs.push(jobOp);
                        jobStartTime += processingTime;
                    }
                    
                    // Update current time for next job (start time on first machine)
                    currentTime = schedule.machines[0].jobs[schedule.machines[0].jobs.length - 1].start;
                });
                
                // Calculate makespan (max finish time on last machine)
                schedule.makespan = Math.max(...schedule.machines[machines-1].jobs.map(j => j.finish));
            }
            
            return schedule;
        }
        
        // Update performance metrics
        function updateMetrics(schedule) {
            // Calculate makespan
            makespan = schedule.makespan;
            document.getElementById('makespanValue').textContent = makespan;
            
            // Calculate flow time (for each job, time from start to finish)
            let totalFlowTime = 0;
            let totalWaitTime = 0;
            let totalProcessingTime = 0;
            
            // For each job, find its last operation
            jobs.forEach(job => {
                let jobFinish = 0;
                let jobStart = Infinity;
                
                schedule.machines.forEach(machine => {
                    machine.jobs.forEach(op => {
                        if (op.jobId === job.id) {
                            jobFinish = Math.max(jobFinish, op.finish);
                            jobStart = Math.min(jobStart, op.start);
                        }
                    });
                });
                
                const flowTime = jobFinish - jobStart;
                const processingTime = job.times.reduce((sum, time) => sum + time, 0);
                const waitTime = flowTime - processingTime;
                
                totalFlowTime += flowTime;
                totalProcessingTime += processingTime;
                totalWaitTime += waitTime;
            });
            
            // Calculate averages
            const avgFlowTime = jobs.length > 0 ? Math.round(totalFlowTime / jobs.length) : 0;
            const avgWaitTime = jobs.length > 0 ? Math.round(totalWaitTime / jobs.length) : 0;
            
            document.getElementById('flowTimeValue').textContent = avgFlowTime;
            document.getElementById('waitTimeValue').textContent = avgWaitTime;
            
            // Calculate utilization rate
            let totalMachineTime = 0;
            schedule.machines.forEach(machine => {
                machine.jobs.forEach(op => {
                    totalMachineTime += op.duration;
                });
            });
            
            const utilization = makespan > 0 ? Math.round((totalMachineTime / (makespan * machines)) * 100) : 0;
            document.getElementById('utilizationValue').textContent = `${utilization}%`;
        }
        
        // Render Gantt chart
        function renderGanttChart(schedule) {
            const ganttChart = document.getElementById('ganttChart');
            const timeAxis = document.getElementById('timeAxis');
            
            // Clear previous chart
            ganttChart.innerHTML = '';
            timeAxis.innerHTML = '';
            
            // Create time axis
            const timeUnits = Math.ceil(makespan / 5) * 5; // Round up to nearest 5
            for (let t = 0; t <= timeUnits; t += 5) {
                const tick = document.createElement('div');
                tick.className = 'time-tick';
                tick.textContent = t;
                timeAxis.appendChild(tick);
            }
            
            // Create machine rows
            schedule.machines.forEach(machine => {
                const machineRow = document.createElement('div');
                machineRow.className = 'gantt-machine';
                
                const label = document.createElement('div');
                label.className = 'gantt-machine-label';
                label.innerHTML = `<i class="fas fa-industry"></i> Machine ${machine.id + 1}`;
                machineRow.appendChild(label);
                
                const timeline = document.createElement('div');
                timeline.className = 'gantt-timeline';
                timeline.style.width = `${makespan * timeScale}px`;
                
                // Add job operations to timeline
                machine.jobs.forEach(op => {
                    const jobElement = document.createElement('div');
                    jobElement.className = 'gantt-job';
                    jobElement.style.left = `${op.start * timeScale}px`;
                    jobElement.style.width = `${op.duration * timeScale}px`;
                    jobElement.style.background = op.color;
                    jobElement.textContent = `${op.jobName} (${op.duration})`;
                    jobElement.title = `${op.jobName}: Début ${op.start} - Fin ${op.finish} (Durée: ${op.duration})`;
                    jobElement.dataset.job = op.jobName;
                    jobElement.dataset.duration = op.duration;
                    
                    timeline.appendChild(jobElement);
                });
                
                machineRow.appendChild(timeline);
                ganttChart.appendChild(machineRow);
            });
        }
        
        // Setup event listeners
        function setupEventListeners() {
            // System type change
            document.getElementById('systemType').addEventListener('change', function() {
                updateSystemDescription();
                updateCurrentConfig();
            });
            
            // Scheduling rule change
            document.getElementById('schedulingRule').addEventListener('change', updateCurrentConfig);
            
            // Machine count change
            document.getElementById('machineCount').addEventListener('change', function() {
                updateMachineCount();
                updateStats();
                updateCurrentConfig();
            });
            
            // Job count change
            document.getElementById('jobCount').addEventListener('change', function() {
                const newCount = parseInt(this.value);
                const currentCount = jobs.length;
                
                if (newCount > currentCount) {
                    // Add jobs
                    for (let i = currentCount; i < newCount; i++) {
                        addJob();
                    }
                } else if (newCount < currentCount) {
                    // Remove jobs
                    jobs = jobs.slice(0, newCount);
                    renderJobsTable();
                    updateStats();
                }
                
                updateCurrentConfig();
            });
            
            // Random data button
            document.getElementById('randomData').addEventListener('click', function() {
                generateRandomJobs();
                renderJobsTable();
                updateStats();
                
                // Animation
                this.innerHTML = '<i class="fas fa-check"></i> Données générées';
                setTimeout(() => {
                    this.innerHTML = '<i class="fas fa-random"></i> Aléatoire';
                }, 1500);
            });
            
            // Reset data button
            document.getElementById('resetData').addEventListener('click', function() {
                jobs.forEach(job => {
                    job.times = job.times.map(() => 1);
                });
                renderJobsTable();
                updateStats();
                
                // Animation
                this.innerHTML = '<i class="fas fa-check"></i> Données réinitialisées';
                setTimeout(() => {
                    this.innerHTML = '<i class="fas fa-redo"></i> Réinitialiser';
                }, 1500);
            });
            
            // Add job button
            document.getElementById('addJobBtn').addEventListener('click', addJob);
            
            // Run scheduling button
            document.getElementById('runScheduling').addEventListener('click', runScheduling);
            
            // Reset simulation button
            document.getElementById('resetSimulation').addEventListener('click', function() {
                generateRandomJobs();
                renderJobsTable();
                updateStats();
                
                // Reset results
                document.getElementById('makespanValue').textContent = '0';
                document.getElementById('flowTimeValue').textContent = '0';
                document.getElementById('waitTimeValue').textContent = '0';
                document.getElementById('utilizationValue').textContent = '0%';
                
                // Clear Gantt chart
                document.getElementById('ganttChart').innerHTML = '';
                document.getElementById('timeAxis').innerHTML = '';
                
                // Show reset animation
                this.innerHTML = '<i class="fas fa-check"></i> Simulation réinitialisée';
                this.style.background = 'var(--secondary-gradient)';
                
                setTimeout(() => {
                    this.innerHTML = '<i class="fas fa-redo"></i> Réinitialiser la simulation';
                    this.style.background = 'linear-gradient(135deg, var(--gray-600) 0%, var(--gray-700) 100%)';
                }, 2000);
            });
            
            // Zoom buttons
            document.getElementById('zoomIn').addEventListener('click', function() {
                timeScale = Math.min(timeScale * 1.2, 50);
                if (makespan > 0) {
                    runScheduling(); // Re-render with new scale
                }
            });
            
            document.getElementById('zoomOut').addEventListener('click', function() {
                timeScale = Math.max(timeScale / 1.2, 5);
                if (makespan > 0) {
                    runScheduling(); // Re-render with new scale
                }
            });
            
            // Download Gantt button
            document.getElementById('downloadGantt').addEventListener('click', function() {
                alert('Fonctionnalité de téléchargement du diagramme de Gantt à implémenter.');
            });
            
            // Fullscreen button
            document.getElementById('fullscreen').addEventListener('click', function() {
                const ganttContainer = document.querySelector('.gantt-container');
                if (!document.fullscreenElement) {
                    ganttContainer.requestFullscreen().catch(err => {
                        console.log(`Error attempting to enable fullscreen: ${err.message}`);
                    });
                } else {
                    document.exitFullscreen();
                }
            });
            
            // Mobile menu button
            document.getElementById('mobileMenuBtn').addEventListener('click', function() {
                document.getElementById('navLinks').classList.toggle('active');
                const icon = this.querySelector('i');
                if (icon.classList.contains('fa-bars')) {
                    icon.classList.remove('fa-bars');
                    icon.classList.add('fa-times');
                } else {
                    icon.classList.remove('fa-times');
                    icon.classList.add('fa-bars');
                }
            });
            
            // Close mobile menu when clicking on a link
            document.querySelectorAll('.nav-links a').forEach(link => {
                link.addEventListener('click', function() {
                    document.getElementById('navLinks').classList.remove('active');
                    document.getElementById('mobileMenuBtn').querySelector('i').classList.remove('fa-times');
                    document.getElementById('mobileMenuBtn').querySelector('i').classList.add('fa-bars');
                });
            });
        }
        
        // Setup documentation tabs
        function setupDocumentationTabs() {
            const tabs = document.querySelectorAll('.docs-tab');
            
            tabs.forEach(tab => {
                tab.addEventListener('click', function() {
                    const tabId = this.dataset.tab;
                    
                    // Remove active class from all tabs and contents
                    tabs.forEach(t => t.classList.remove('active'));
                    document.querySelectorAll('.docs-content').forEach(content => {
                        content.classList.remove('active');
                    });
                    
                    // Add active class to clicked tab and corresponding content
                    this.classList.add('active');
                    document.getElementById(`${tabId}-content`).classList.add('active');
                });
            });
        }
        
        // Initialize when page loads
        window.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>
